[tool:pytest]
# Pytest configuration for Health Coach AI System

# Test discovery
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Output formatting
addopts =
    --strict-markers
    --strict-config
    --verbose
    --tb=short
    --showlocals
    --durations=10
    --color=yes
    --disable-warnings

# Markers for test categorization
markers =
    unit: Unit tests
    integration: Integration tests
    slow: Slow running tests
    agents: Agent-specific tests
    teams: Team functionality tests
    workflows: Workflow tests
    database: Database tests
    api: API endpoint tests
    garmin: Garmin integration tests
    health: Health analytics tests
    training: Training functionality tests
    nutrition: Nutrition tests
    recovery: Recovery tests
    onboarding: Onboarding tests
    coordinator: Coordinator tests
    mock: Tests using mocked external services
    real_api: Tests requiring real API connections

# Test environment
env =
    ENVIRONMENT = testing
    DATABASE_URL = sqlite:///:memory:
    TEST_MODE = true
    LOG_LEVEL = WARNING

# Coverage settings
addopts = --cov=agents --cov=teams --cov=workflows --cov=tools --cov=database --cov=config

# Asyncio configuration
asyncio_mode = auto

# Minimum version requirements
minversion = 7.0

# Ignore patterns
norecursedirs =
    .git
    .tox
    .eggs
    *.egg
    build
    dist
    __pycache__
    .pytest_cache
    node_modules

# Filter warnings
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning